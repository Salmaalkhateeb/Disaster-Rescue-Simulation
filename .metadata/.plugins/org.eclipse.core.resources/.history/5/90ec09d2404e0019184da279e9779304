package model.units;
import java.util.*;

import model.infrastructure.ResidentialBuilding;
import model.people.Citizen;
import simulation.Address;
abstract class PoliceUnit extends Unit {
private ArrayList<Citizen> passengers;
private int maxCapacity;
private int distanceToBase;

public PoliceUnit(String id , Address location , int stepsPerCycle , int maxCapacity){
	super(id,location,stepsPerCycle);
	this.maxCapacity = maxCapacity;
	passengers = new ArrayList<Citizen>();
}


public int getMaxCapacity() {
	return maxCapacity;
}

public int getDistanceToBase() {
	return distanceToBase;
}
public void setDistanceToBase(int distanceToBase) {
	if(distanceToBase<=0){
		this.distanceToBase=0;
	    this.getWorldListener().assignAddress(this, this.getTarget().getLocation().getX(),this.getTarget().getLocation().getY());
	    if(this.getState()!=UnitState.IDLE)
	    		this.setState(UnitState.RESPONDING);
	    
	}
	this.distanceToBase = distanceToBase;
}


public void setPassengers(ArrayList<Citizen> passengers) {
	this.passengers = passengers;
}
public void cycleStep(){
	if(passengers.size()==0){
		super.cycleStep();
	}else{
		this.setDistanceToBase(distanceToBase-this.getStepsPerCycle());
	}
		}
}
